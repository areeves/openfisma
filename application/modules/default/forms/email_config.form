; This is the form for configuring the identity and e-mail setting for
; e-mail notifications.
;
; This form should be loaded through FormManager::loadForm() in order to recieve
; the proper decorators, filters, etc.
;
; Author    Mark E. Haase <mhaase@endeavorsystems.com
; Copyright (c) Endeavor Systems, Inc. 2008 (http://www.endeavorsystems.com)
; License   http://www.openfisma.org/mw/index.php?title=License
; Version   $Id: notification_config.form 2140 2009-08-25 21:06:30Z nathanrharris $

[email_config]
method = "post"
id     = "email_config"

elements.recipient.type = "hidden"
elements.recipient.options.label = "Target Email Address"
elements.recipient.options.validators.emailAddress.validator = "EmailAddress"
; Define boolean property to decide if the label 'Target Email Address' is visible.
elements.recipient.options.hideLabel = true
displayGroups.general.elements.recipient = "recipient"

elements.sender.type = "text"
elements.sender.options.label = "From Email Address"
elements.sender.options.size = 30
elements.sender.options.validators.emailAddress.validator = "EmailAddress"
elements.sender.options.required = true
elements.sender.options.tooltip = "<p><b>From Email Address</b></p><p>The From Email Address will be used by OpenFISMA to identify itself when it sends emails to end users. For example, if you input openfisma@agency.gov, then users will receive email messages from openfisma@agency.gov.</p>"
displayGroups.general.elements.sender = "sender"

elements.send_type.type = "select"
elements.send_type.options.label = "Email Configuration Type"
elements.send_type.options.multiOptions.sendmail = "sendmail"
elements.send_type.options.multiOptions.smtp = "smtp"
elements.send_type.options.required = true
elements.send_type.options.tooltip = "<p><b>Email Configuration Type</b></p><p>The Email Configuration Type is used to tell OpenFISMA which mail program or protocol to use for sending messages. Generally, sendmail is installed locally on the same machine as OpenFISMA and can be used to send outgoing mail without specifying a username, password or host. You may want to configure an external smtp server which will require a host address and should require a username and passwoord.</p>"
displayGroups.general.elements.send_type = "send_type"

elements.smtp_host.type = "text"
elements.smtp_host.options.label = "SMTP Hostname"
elements.smtp_host.options.validators.hostname.validator = "Hostname"
; const ALLOW_ALL = 7, but the constant isn't in scope here
elements.smtp_host.options.validators.hostname.options.allow = 7
elements.smtp_host.options.size = 30
elements.smtp_host.options.tooltip = "<p><b>SMTP Host Name</b></p><p>The Host IP address or DNS name of the SMTP server to be used for sending mail. If you choose <b>sendmail</b> you will be able to leave this blank. If you choose <b>SMTP</b>, you will need to enter an IP address or dns name. Example: 192.168.0.23 or smtp.agency.gov</p>"
displayGroups.general.elements.smtp_host = "smtp_host"

elements.smtp_port.type = "text"
elements.smtp_port.options.label = "SMTP Port"
elements.smtp_port.options.validators.int.validator = "Int"
elements.smtp_port.options.validators.greaterThan.validator = "GreaterThan"
elements.smtp_port.options.validators.greaterThan.options.min = 0
elements.smtp_port.options.required = true
elements.smtp_port.options.size = 30
displayGroups.general.elements.smtp_port = "smtp_port"

elements.smtp_tls.type = "checkbox"
elements.smtp_tls.options.label = "Use Transport Layer Security (TLS)"
elements.smtp_tls.options.validators.alnum.validator = "Digits"
elements.smtp_tls.options.validators.between.validator = "between"
elements.smtp_tls.options.validators.between.options.min = "0"
elements.smtp_tls.options.validators.between.options.max = "1"
displayGroups.general.elements.smtp_tls = "smtp_tls"

elements.smtp_username.type = "text"
elements.smtp_username.options.label = "SMTP Username"
elements.smtp_username.options.size = 30
displayGroups.general.elements.smtp_username = "smtp_username"

elements.smtp_password.type = "password"
elements.smtp_password.options.label = "SMTP Password"
elements.smtp_password.options.size = 30
displayGroups.general.elements.smtp_password = "smtp_password"