AccountLog:
    listeners: [XssListener, IndexListener]
    
    columns:
        createdTs: 
            type: timestamp
            comment: The time at which this event occurred
        userId:
            type: integer
            comment: The user who caused this event, if applicable
        ip:
            type: string(15)
            notnull: true
            comment: The IP address where this event originated from
            extra:
                purify: plaintext
                searchIndex: unstored
        event:
            type: enum
            values: [create user, modify user, delete user, lock user, unlock user, login failure, login, logout, accept rob, change password, validate email]
            notnull: true
            comment: The account log event type
            extra:
                searchIndex: keyword
        message:
            type: string
            comment: A description of the event
            extra: 
                purify: plaintext
                searchIndex: unstored

    relations:
        User:
            local: userId
            foreign: id
            foreignAlias: AccountLogs

    actAs:
        Timestampable:
            created:
                name: createdTs
                type: timestamp
            updated:
                disabled: true
