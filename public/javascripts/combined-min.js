String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};var readyFunc=function(){var g=YAHOO.util.Selector.query(".date");for(var b=0;b<g.length;b++){YAHOO.util.Event.on(g[b].getAttribute("id")+"_show","click",callCalendar,g[b].getAttribute("id"))}var a=function(){if(document.getElementById("remediationSearchAging")){var k=document.getElementById("remediationSearchAging").value.trim()}else{return}var h=document.getElementById("created_date_begin");var j=document.getElementById("created_date_end");if(k=="0"){h.disabled=false;j.disabled=false;document.getElementById("show1").disabled=false;document.getElementById("show2").disabled=false}else{h.disabled=true;j.disabled=true;h.value="";j.value="";document.getElementById("show1").disabled=true;document.getElementById("show2").disabled=true}};YAHOO.util.Event.on("remediationSearchAging","change",a);a();var f=function(){if(document.getElementById("created_date_begin")&&document.getElementById("created_date_end")){var j=document.getElementById("created_date_begin").value.trim();var h=document.getElementById("created_date_end").value.trim()}else{return}if(j!=""||h!=""){document.getElementById("remediationSearchAging").disabled=true}else{document.getElementById("remediationSearchAging").disabled=false}};YAHOO.util.Event.on("created_date_begin","change",f);YAHOO.util.Event.on("created_date_end","change",f);f();var d=function(){if(document.getElementById("encrypt")){var j=document.getElementById("encrypt")}else{return}var h=j.value.trim();if(h=="sha256"){j.style.display=""}else{j.style.display="none"}};YAHOO.util.Event.on("encrypt","change",d);d();YAHOO.util.Event.on("function_screen","change",search_function);search_function();YAHOO.util.Event.on("add_function","click",function(){var h=new YAHOO.util.Selector.query("#available_functions option");for(var j=0;j<h.length;j++){if(h[j].selected==true){document.getElementById("exist_functions").appendChild(h[j])}}return false});YAHOO.util.Event.on("remove_function","click",function(){var h=YAHOO.util.Selector.query("#exist_functions option");for(var j=0;j<h.length;j++){if(h[j].selected==true){document.getElementById("available_functions").appendChild(h[j])}}return false});YAHOO.util.Event.on(YAHOO.util.Selector.query("form[name=assign_right]"),"submit",function(){var h=YAHOO.util.Selector.query("#exist_functions option");for(var j=0;j<h.length;j++){h[j].selected=true}});YAHOO.util.Event.on("searchAsset","click",searchAsset);YAHOO.util.Event.on("search_product","click",searchProduct);YAHOO.util.Event.on(YAHOO.util.Selector.query(".confirm"),"click",function(){var h="DELETING CONFIRMATION!";if(confirm(h)==true){return true}return false});asset_detail();getProdId()};function search_function(){var g=YAHOO.util.Selector.query("select[name=function_screen]");if(g==""){return}var k=name="";var f=YAHOO.util.Selector.query("select[name=function_screen] option");for(var h=0;h<f.length;h++){if(f[h].selected==true){name=f[h].text}}if(""!=name){k+="/screen_name/"+name}var d=YAHOO.util.Selector.query("#exist_functions option");var a="";for(var h=0;h<d.length;h++){if(h==0){a+=d[h].value}else{a+=","+d[h].value}}var b=document.getElementById("function_screen").getAttribute("url")+"/do/available_functions"+k+"/exist_functions/"+a;var j=YAHOO.util.Connect.asyncRequest("GET",b,{success:function(l){document.getElementById("available_functions").parentNode.innerHTML='<select style="width: 250px;" name="available_functions" id="available_functions" size="20" multiple="">'+l.responseText+"</select>"},failure:handleFailure})}var handleFailure=function(a){alert("error")};function upload_evidence(){if(!form_confirm(document.finding_detail,"Upload Evidence")){return false}document.finding_detail.enctype="multipart/form-data";panel("Upload Evidence",document.finding_detail,"/remediation/upload-form");return false}function ev_deny(f){if(!form_confirm(document.finding_detail,"deny the evidence")){return false}var d=document.createElement("div");var g=document.createElement("p");g.appendChild(document.createTextNode("Comments:"));d.appendChild(g);var b=document.createElement("textarea");b.rows=5;b.cols=60;b.id="dialog_comment";b.name="comment";d.appendChild(b);var h=document.createElement("div");h.style.height="20px";d.appendChild(h);var a=document.createElement("input");a.type="button";a.id="dialog_continue";a.value="Continue";d.appendChild(a);panel("Evidence Denial",document.finding_detail,"",d.innerHTML);document.getElementById("dialog_continue").onclick=function(){var k=f;if(document.all){var l=document.getElementById("dialog_comment").innerHTML}else{var l=document.getElementById("dialog_comment").value}k.elements.comment.value=l;k.elements.decision.value="DENIED";var j=document.createElement("input");j.type="hidden";j.name="submit_ea";j.value="DENIED";k.appendChild(j);k.submit()}}function ms_comment(f){if(!form_confirm(document.finding_detail,"deny the mitigation")){return false}var d=document.createElement("div");var g=document.createElement("p");var h=document.createTextNode("Comments:");g.appendChild(h);d.appendChild(g);var a=document.createElement("textarea");a.id="dialog_comment";a.name="comment";a.rows=5;a.cols=60;d.appendChild(a);var j=document.createElement("div");j.style.height="20px";d.appendChild(j);var b=document.createElement("input");b.type="button";b.id="dialog_continue";b.value="Continue";d.appendChild(b);panel("Mitigation Strategy Denial",document.finding_detail,"",d.innerHTML);document.getElementById("dialog_continue").onclick=function(){var l=f;if(document.all){var m=document.getElementById("dialog_comment").innerHTML}else{var m=document.getElementById("dialog_comment").value}l.elements.comment.value=m;l.elements.decision.value="DENIED";var k=document.createElement("input");k.type="hidden";k.name="submit_msa";k.value="DENIED";l.appendChild(k);l.submit()}}function getProdId(){var a=document.getElementById("productId");YAHOO.util.Event.on(a,"change",function(){document.getElementById("productId").value=a.value})}var searchProduct=function(){var d=document.getElementById("search_product");var b=d.getAttribute("url");var a=YAHOO.util.Selector.query("input.product");for(var f=0;f<a.length;f++){if(a[f].value!=undefined&&a[f].value!=""){b+="/"+a[f].name+"/"+a[f].value}}YAHOO.util.Connect.asyncRequest("GET",b,{success:function(g){document.getElementById("productId").parentNode.innerHTML=g.responseText;document.getElementById("productId").style.width="400px";getProdId()},failure:handleFailure})};var searchAsset=function(){var b=new YAHOO.util.Element("orgSystemId");if(b.get("id")==undefined){return}var g=b.get("value");var h="";if(0!=parseInt(g)){h+="/system_id/"+g}var f=YAHOO.util.Selector.query("input.assets");for(var d=0;d<f.length;d++){if(f[d].value!=undefined&&f[d].value!=""){h+="/"+f[d].name+"/"+f[d].value}}var a=document.getElementById("orgSystemId").getAttribute("url")+h;YAHOO.util.Connect.asyncRequest("GET",a,{success:function(l){document.getElementById("assetId").options.length=0;var j=YAHOO.lang.JSON.parse(l.responseText);j=j.table.records;for(var k=0;k<j.length;k++){document.getElementById("assetId").options.add(new Option(j[k].name,j[k].id))}},failure:handleFailure})};function asset_detail(){YAHOO.util.Event.on("assetId","change",function(){var a=this.getAttribute("url")+this.value;YAHOO.util.Connect.asyncRequest("GET",a,{success:function(b){document.getElementById("asset_info").innerHTML=b.responseText},failure:handleFailure})})}function message(d,a){if(document.getElementById("msgbar")){var b=document.getElementById("msgbar")}else{return}b.innerHTML=d;b.style.fontWeight="bold";if(a=="warning"){b.style.color="red"}else{b.style.color="green";b.style.borderColor="green";b.style.backgroundColor="lightgreen"}b.style.display="block"}function toggleSearchOptions(b){var a=document.getElementById("advanced_searchbox");if(a.style.display=="none"){a.style.display="";b.value="Basic Search"}else{a.style.display="none";b.value="Advanced Search"}}function showJustification(){if(document.getElementById("ecd_justification")){document.getElementById("ecd_justification").style.display=""}}function addBookmark(f,d){if(window.sidebar){window.sidebar.addPanel(f,d,"")}else{if(window.opera){var b=document.createElement("A");b.rel="sidebar";b.target="_search";b.title=f;b.href=d;b.click()}else{if(document.all){window.external.AddFavorite(d,f)}}}}function highlight(f,b){if(!b){return true}b=b.split(" ");for(var a in b){keyword=b[a];if(f&&f.hasChildNodes){var d;for(d=0;d<f.childNodes.length;d++){highlight(f.childNodes[d],keyword)}}if(f&&f.nodeType==3){tempNodeVal=f.nodeValue.toLowerCase();tempWordVal=keyword.toLowerCase();if(tempNodeVal.indexOf(tempWordVal)!=-1){pn=f.parentNode;if(pn.className!="highlight"){nv=f.nodeValue;ni=tempNodeVal.indexOf(tempWordVal);before=document.createTextNode(nv.substr(0,ni));docWordVal=nv.substr(ni,keyword.length);after=document.createTextNode(nv.substr(ni+keyword.length));hiwordtext=document.createTextNode(docWordVal);hiword=document.createElement("span");hiword.className="highlight";hiword.appendChild(hiwordtext);pn.insertBefore(before,f);pn.insertBefore(hiword,f);pn.insertBefore(after,f);pn.removeChild(f)}}}}}function removeHighlight(b){if(b.hasChildNodes){var a;for(a=0;a<b.childNodes.length;a++){removeHighlight(b.childNodes[a])}}if(b.nodeType==3){pn=b.parentNode;if(pn.className=="highlight"){prevSib=pn.previousSibling;nextSib=pn.nextSibling;nextSib.nodeValue=prevSib.nodeValue+b.nodeValue+nextSib.nodeValue;prevSib.nodeValue="";b.nodeValue=""}}}function switchYear(f){if(!isFinite(f)){f=0}var g=document.getElementById("gen_shortcut");var d=g.getAttribute("year");d=Number(d)+Number(f);g.setAttribute("year",d);var a=g.getAttribute("url")+d+"/";var b=YAHOO.util.Selector.query("#gen_shortcut span:nth-child(1)");b[0].innerHTML=d;b[0].parentNode.setAttribute("href",a);b[1].parentNode.setAttribute("href",a+"q/1/");b[2].parentNode.setAttribute("href",a+"q/2/");b[3].parentNode.setAttribute("href",a+"q/3/");b[4].parentNode.setAttribute("href",a+"q/4/")}function form_confirm(h,g){var k=false;elements=YAHOO.util.Selector.query("[name*='finding']");for(var b=0;b<elements.length;b++){var j=elements[b].tagName.toUpperCase();if(j=="INPUT"){var a=elements[b].type;if(a=="text"||a=="password"){var d=elements[b].getAttribute("_value");if(typeof(d)=="undefined"){d=""}if(d!=elements[b].value){k=true}}if(a=="checkbox"||a=="radio"){var d=elements[b].checked?"on":"off";if(d!=elements[b].getAttribute("_value")){k=true}}}else{if(j=="SELECT"){var d=elements[b].getAttribute("_value");if(typeof(d)=="undefined"){d=""}if(d!=elements[b].options[elements[b].selectedIndex].value){k=true}}else{if(j=="TEXTAREA"){var d=elements[b].getAttribute("_value");if(typeof(d)=="undefined"){d=""}var f=elements[b].value?elements[b].value:elements[b].innerHTML;if(d!=f){k=true}}}}}if(k){if(confirm('WARNING: You have unsaved changes on the page. If you continue, these changes will be lost. If you want to save your changes, click "Cancel" now and then click "Save Changes".')){return true}}if(confirm("WARNING: You are about to "+g+'. This action cannot be undone. Please click "Ok" to confirm your action or click "Cancel" to stop.')){return true}return false}function dump(a){var b=""+a;for(i in a){if("function"!=typeof(a[i])){b+=i+" : "+a[i]+"\n"}}alert(b)}function panel(g,d,f,b,h){var a=new YAHOO.widget.Panel("panel",{width:"540px",modal:true});a.setHeader(g);a.setBody("Loading...");a.render(d);a.center();a.show();if(f!=""){YAHOO.util.Connect.asyncRequest("GET",f,{success:function(j){j.argument.setBody(j.responseText);j.argument.center();h()},failure:function(j){alert("Failed to load the specified panel.")},argument:a},null)}else{a.setBody(b);a.center()}}var e=YAHOO.util.Event;e.onDOMReady(readyFunc);function callCalendar(a,b){showCalendar(b,b+"_show")}function showCalendar(g,d){var m=YAHOO.util.Event,j=YAHOO.util.Dom,k,h;var l=j.get(d);var k;var h;if(!k){function f(){j.get(g).value="";a()}function a(){k.hide()}k=new YAHOO.widget.Dialog("container",{visible:false,context:[g,"tl","bl"],draggable:true,close:true});k.setHeader("Pick A Date");k.setBody('<div id="cal"></div><div class="clear"></div>');k.render(document.body);dialogEl=document.getElementById("container");dialogEl.style.padding="0px";k.showEvent.subscribe(function(){if(YAHOO.env.ua.ie){k.fireEvent("changeContent")}})}if(!h){h=new YAHOO.widget.Calendar("cal",{iframe:false,hide_blank_weeks:true});h.render();h.selectEvent.subscribe(function(){if(h.getSelectedDates().length>0){var o=h.getSelectedDates()[0];var n=(o.getDate()<10)?"0"+o.getDate():o.getDate();var q=(o.getMonth()+1<10)?"0"+(o.getMonth()+1):(o.getMonth()+1);var p=o.getFullYear();j.get(g).value=p+"-"+q+"-"+n}else{j.get(g).value=""}k.hide();if("finding[currentEcd]"==j.get(g).name){validateEcd()}});h.renderEvent.subscribe(function(){k.fireEvent("changeContent")})}var b=h.getSelectedDates();if(b.length>0){h.cfg.setProperty("pagedate",b[0]);h.render()}k.show()}YAHOO.namespace("fisma.TreeTable");YAHOO.fisma.TreeTable.treeRoot;YAHOO.fisma.TreeTable.defaultDisplayLevel=2;YAHOO.fisma.TreeTable.render=function(b,o){if(YAHOO.lang.isUndefined(YAHOO.fisma.TreeTable.treeRoot)){YAHOO.fisma.TreeTable.treeRoot=o}var n=document.getElementById(b);for(var a in o){var d=o[a];var f=n.insertRow(n.rows.length);f.id=d.nickname;var m=n.insertRow(n.rows.length);m.id=d.nickname+"2";var j=f.insertCell(0);d.expanded=(d.level<YAHOO.fisma.TreeTable.defaultDisplayLevel-1);var l=d.expanded?d.single_ontime:d.all_ontime;var h=d.expanded?d.single_overdue:d.all_overdue;d.hasOverdue=YAHOO.fisma.TreeTable.arraySum(h)>0;needsLink=d.children.length>0;linkOpen=(needsLink?"<a href='#' onclick='YAHOO.fisma.TreeTable.toggleNode(\""+d.nickname+"\")'>":"");linkClose=needsLink?"</a>":"";linkDivClass=needsLink?" link":"";controlImage=d.expanded?"minus.png":"plus.png";control=needsLink?'<img class="control" id="'+d.nickname+'Img" src="/images/'+controlImage+'">':'<img class="control" id="'+d.nickname+'Img" src="/images/leaf_node.png">';j.innerHTML='<div class="treeTable'+d.level+linkDivClass+'">'+linkOpen+control+'<img class="icon" src="/images/'+d.orgType+'.png">'+d.label+"<br><i>"+d.orgTypeLabel+"</i>"+linkClose+"</div>";var g=1;for(var k in l){count=l[k];cell=f.insertCell(g++);if(k=="CLOSED"||k=="TOTAL"){cell.className="noDueDate"}else{cell.className="onTime"}YAHOO.fisma.TreeTable.updateCellCount(cell,count,d.id,k,"ontime")}for(var k in h){count=h[k];cell=m.insertCell(m.childNodes.length);cell.className="overdue";YAHOO.fisma.TreeTable.updateCellCount(cell,count,d.id,k,"overdue")}f.style.display="none";m.style.display="none";if(d.level<YAHOO.fisma.TreeTable.defaultDisplayLevel){f.style.display="";if(d.hasOverdue){f.childNodes[0].rowSpan="2";f.childNodes[f.childNodes.length-2].rowSpan="2";f.childNodes[f.childNodes.length-1].rowSpan="2";m.style.display=""}}if(d.children.length>0){YAHOO.fisma.TreeTable.render(b,d.children)}}};YAHOO.fisma.TreeTable.toggleNode=function(a){node=YAHOO.fisma.TreeTable.findNode(a,YAHOO.fisma.TreeTable.treeRoot);if(node.expanded){YAHOO.fisma.TreeTable.collapseNode(node,true);YAHOO.fisma.TreeTable.hideSubtree(node.children)}else{YAHOO.fisma.TreeTable.expandNode(node);YAHOO.fisma.TreeTable.showSubtree(node.children,false)}};YAHOO.fisma.TreeTable.expandNode=function(g,b){g.ontime=g.single_ontime;g.overdue=g.single_overdue;g.hasOverdue=YAHOO.fisma.TreeTable.arraySum(g.overdue)>0;var a=document.getElementById(g.nickname);var d=1;for(c in g.ontime){count=g.ontime[c];YAHOO.fisma.TreeTable.updateCellCount(a.childNodes[d],count,g.id,c,"ontime");d++}var f=document.getElementById(g.nickname+"2");if(g.hasOverdue){var d=0;for(c in g.overdue){count=g.overdue[c];YAHOO.fisma.TreeTable.updateCellCount(f.childNodes[d],count,g.id,c,"overdue");d++}}else{a.childNodes[0].rowSpan="1";a.childNodes[a.childNodes.length-2].rowSpan="1";a.childNodes[a.childNodes.length-1].rowSpan="1";f.style.display="none"}if(g.children.length>0){document.getElementById(g.nickname+"Img").src="/images/minus.png"}g.expanded=true;if(b&&g.children.length>0){YAHOO.fisma.TreeTable.showSubtree(g.children,false);for(var h in g.children){YAHOO.fisma.TreeTable.expandNode(g.children[h],true)}}};YAHOO.fisma.TreeTable.collapseNode=function(g,b){g.ontime=g.all_ontime;g.overdue=g.all_overdue;g.hasOverdue=YAHOO.fisma.TreeTable.arraySum(g.overdue)>0;var a=document.getElementById(g.nickname);var d=1;for(c in g.ontime){count=g.ontime[c];YAHOO.fisma.TreeTable.updateCellCount(a.childNodes[d],count,g.id,c,"ontime");d++}var f=document.getElementById(g.nickname+"2");if(b&&g.hasOverdue){a.childNodes[0].rowSpan="2";a.childNodes[a.childNodes.length-2].rowSpan="2";a.childNodes[a.childNodes.length-1].rowSpan="2";f.style.display="";var d=0;for(c in g.all_overdue){count=g.all_overdue[c];YAHOO.fisma.TreeTable.updateCellCount(f.childNodes[d],count,g.id,c,"overdue");d++}}if(g.children.length>0){YAHOO.fisma.TreeTable.hideSubtree(g.children)}document.getElementById(g.nickname+"Img").src="/images/plus.png";g.expanded=false};YAHOO.fisma.TreeTable.hideSubtree=function(a){for(nodeId in a){node=a[nodeId];ontimeRow=document.getElementById(node.nickname);ontimeRow.style.display="none";overdueRow=document.getElementById(node.nickname+"2");overdueRow.style.display="none";if(node.children.length>0){YAHOO.fisma.TreeTable.collapseNode(node,false);YAHOO.fisma.TreeTable.hideSubtree(node.children)}}};YAHOO.fisma.TreeTable.showSubtree=function(b,a){for(nodeId in b){node=b[nodeId];if(a&&node.children.length>0){YAHOO.fisma.TreeTable.expandNode(node);YAHOO.fisma.TreeTable.showSubtree(node.children,true)}ontimeRow=document.getElementById(node.nickname);ontimeRow.style.display="";overdueRow=document.getElementById(node.nickname+"2");if(node.hasOverdue){ontimeRow.childNodes[0].rowSpan="2";ontimeRow.childNodes[ontimeRow.childNodes.length-2].rowSpan="2";ontimeRow.childNodes[ontimeRow.childNodes.length-1].rowSpan="2";overdueRow.style.display=""}}};YAHOO.fisma.TreeTable.collapseAll=function(){for(nodeId in YAHOO.fisma.TreeTable.treeRoot){node=YAHOO.fisma.TreeTable.treeRoot[nodeId];YAHOO.fisma.TreeTable.collapseNode(node,true);YAHOO.fisma.TreeTable.hideSubtree(node.children)}};YAHOO.fisma.TreeTable.expandAll=function(){for(nodeId in YAHOO.fisma.TreeTable.treeRoot){node=YAHOO.fisma.TreeTable.treeRoot[nodeId];YAHOO.fisma.TreeTable.expandNode(node,true)}};YAHOO.fisma.TreeTable.findNode=function(f,b){for(var d in b){node=b[d];if(node.nickname==f){return node}else{if(node.children.length>0){var a=YAHOO.fisma.TreeTable.findNode(f,node.children);if(a!=false){return a}}}}return false};YAHOO.fisma.TreeTable.arraySum=function(b){var f=0;for(var d in b){f+=b[d]}return f};YAHOO.fisma.TreeTable.updateCellCount=function(a,g,d,b,h){if(!a.hasChildNodes()){if(g>0){var f=document.createElement("a");f.href=YAHOO.fisma.TreeTable.makeLink(d,b,h);f.appendChild(document.createTextNode(g));a.appendChild(f)}else{a.appendChild(document.createTextNode("-"))}}else{if(a.firstChild.hasChildNodes()){if(g>0){a.firstChild.firstChild.nodeValue=g}else{a.removeChild(a.firstChild);a.appendChild(document.createTextNode("-"))}}else{if(g>0){a.removeChild(a.firstChild);var f=document.createElement("a");f.href=YAHOO.fisma.TreeTable.makeLink(d,b,h);f.appendChild(document.createTextNode(g));a.appendChild(f)}else{a.firstChild.nodeValue="-"}}}};YAHOO.fisma.TreeTable.makeLink=function(b,a,f){var d="/panel/remediation/sub/search/ontime/"+f+"/orgId/"+b+"/status/"+escape(a);return d};YAHOO.fisma.TreeTable.exportTable=function(b){var a="/remediation/summary-data/format/"+b+YAHOO.fisma.TreeTable.listExpandedNodes(YAHOO.fisma.TreeTable.treeRoot,"");document.location=a};YAHOO.fisma.TreeTable.listExpandedNodes=function(b,a){for(var f in b){var d=b[f];if(d.expanded){a+="/e/"+d.id;a=YAHOO.fisma.TreeTable.listExpandedNodes(d.children,a)}else{a+="/c/"+d.id}}return a};YAHOO.fisma.TreeTable.exportExcel=function(){YAHOO.fisma.TreeTable.exportTable("xls")};YAHOO.fisma.TreeTable.exportPdf=function(){YAHOO.fisma.TreeTable.exportTable("pdf")};YAHOO.namespace("fisma.CheckboxTree");YAHOO.fisma.CheckboxTree.rootNode;YAHOO.fisma.CheckboxTree.handleClick=function(k,d){if(d.altKey){return}var j=k.parentNode;if(j.nextSibling){var a=k.getAttribute("nestedlevel");var f=new Array();var m=true;var b=j.nextSibling;var l=b.childNodes[0];while(l.getAttribute("nestedLevel")>a){if(!l.checked){m=false}f.push(l);if(b.nextSibling){b=b.nextSibling;l=b.childNodes[0]}else{break}}if(m){k.checked=false}else{k.checked=true}for(var g in f){var h=f[g];if(m){h.checked=false}else{h.checked=true}}}};function setupEditFields(){var a=YAHOO.util.Selector.query(".editable");YAHOO.util.Event.on(a,"click",function(g){removeHighlight(document);var k=this.getAttribute("target");YAHOO.util.Dom.removeClass(this,"editable");this.removeAttribute("target");if(k){var l=document.getElementById(k);var b=l.getAttribute("name");var m=l.getAttribute("type");var d=l.getAttribute("href");var j=l.className;var f=l.innerText?l.innerText:l.textContent;var n=l.innerHTML;if(m=="text"){l.outerHTML='<input length="50" name="'+b+'" id="'+k+'" class="'+j+'" type="text" value="'+f.trim()+'" />';if(j=="date"){var l=document.getElementById(k);l.onfocus=function(){showCalendar(k,k+"_show")};calendarIcon=document.createElement("img");calendarIcon.id=k+"_show";calendarIcon.src="/images/calendar.gif";calendarIcon.alt="Calendar";l.parentNode.appendChild(calendarIcon);YAHOO.util.Event.on(k+"_show","click",function(){showCalendar(k,k+"_show")})}}else{if(m=="textarea"){var p=l.getAttribute("rows");var h=l.getAttribute("cols");l.outerHTML='<textarea id="'+b+'" rows="'+p+'" cols="'+h+'" name="'+b+'">'+n+"</textarea>";tinyMCE.execCommand("mceAddControl",true,b)}else{YAHOO.util.Connect.asyncRequest("GET",d+"value/"+f.trim(),{success:function(q){if(m=="select"){l.outerHTML='<select name="'+b+'">'+q.responseText+"</select>"}},failure:function(q){alert("Failed to load the specified panel.")}},null)}}}})}function validateEcd(){var g=document.getElementById("expectedCompletionDate");var d=g.value;var f=new Date();var a=f.getFullYear();var b=f.getMonth();b=b+1;if(b<10){b="0"+b}var h=f.getDate();if(h<10){h="0"+h}if(d.replace(/\-/g,"")<=parseInt(""+a+""+b+""+h)){alert("Warning: You entered an ECD date in the past.")}}if(window.HTMLElement){HTMLElement.prototype.__defineSetter__("outerHTML",function(b){var a=this.ownerDocument.createRange();a.setStartBefore(this);var d=a.createContextualFragment(b);this.parentNode.replaceChild(d,this);return b});HTMLElement.prototype.__defineGetter__("outerHTML",function(){var a;var b=this.attributes;var f="<"+this.tagName.toLowerCase();for(var d=0;d<b.length;d++){a=b[d];if(a.specified){f+=" "+a.name+'="'+a.value+'"'}}if(!this.canHaveChildren){return f+">"}return f+">"+this.innerHTML+"</"+this.tagName.toLowerCase()+">"});HTMLElement.prototype.__defineGetter__("canHaveChildren",function(){switch(this.tagName.toLowerCase()){case"area":case"base":case"basefont":case"col":case"frame":case"hr":case"img":case"br":case"input":case"isindex":case"link":case"meta":case"param":return false}return true})}var helpPanels=new Array();function showHelp(b,d){if(helpPanels[d]){helpPanels[d].show()}else{var a=new YAHOO.widget.Panel("helpPanel",{width:"400px"});a.setHeader("Help");a.setBody("Loading...");a.render(document.body);a.center();a.show();YAHOO.util.Connect.asyncRequest("GET","/help/help/module/"+d,{success:function(f){f.argument.setBody(f.responseText);f.argument.center()},failure:function(f){alert("Failed to load the help module.")},argument:a},null);helpPanels[d]=a}}function selectAllUnsafe(){var a=YAHOO.util.Dom.getElementsBy(function(b){return(b.tagName=="INPUT"&&b.type=="checkbox")});for(i in a){a[i].checked="checked"}}function selectAll(){alert("Not implemented")}function selectNoneUnsafe(){var a=YAHOO.util.Dom.getElementsBy(function(b){return(b.tagName=="INPUT"&&b.type=="checkbox")});for(i in a){a[i].checked=""}}function selectNone(){alert("Not implemented")}function elDump(a){props="";for(prop in a){props+=prop+" : "+a[prop]+"\n"}alert(props)}function delok(b){var a="Are you sure that you want to delete this "+b+"?";if(confirm(a)==true){return true}return false};