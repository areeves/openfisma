(function(b){b.jqplot.CanvasAxisLabelRenderer=function(a){this.angle=0;this.axis;this.show=true;this.showLabel=true;this.label="";this.fontFamily='"Trebuchet MS", Arial, Helvetica, sans-serif';this.fontSize="11pt";this.fontWeight="normal";this.fontStretch=1;this.textColor="#666666";this.enableFontSupport=false;this.pt2px=null;this._elem;this._ctx;this._plotWidth;this._plotHeight;this._plotDimensions={height:null,width:null};b.extend(true,this,a);if(a.angle==null&&this.axis!="xaxis"&&this.axis!="x2axis"){this.angle=-90}var f={fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily};if(this.pt2px){f.pt2px=this.pt2px}if(this.enableFontSupport){if(b.browser.safari){var g=b.browser.version.split(".");for(var h=0;h<g.length;h++){g[h]=Number(g[h])}if(g[0]>528||(g[0]==528&&g[1]>=16)){this._textRenderer=new b.jqplot.CanvasFontRenderer(f)}}else{if(b.browser.mozilla){var g=b.browser.version.split(".");if(g[0]>1||(g[0]==1&&g[1]>=9&&g[2]>0)){this._textRenderer=new b.jqplot.CanvasFontRenderer(f)}else{this._textRenderer=new b.jqplot.CanvasTextRenderer(f)}}else{this._textRenderer=new b.jqplot.CanvasTextRenderer(f)}}}else{this._textRenderer=new b.jqplot.CanvasTextRenderer(f)}};b.jqplot.CanvasAxisLabelRenderer.prototype.init=function(a){b.extend(true,this,a);this._textRenderer.init({fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily})};b.jqplot.CanvasAxisLabelRenderer.prototype.getWidth=function(i){if(this._elem){return this._elem.outerWidth(true)}else{var g=this._textRenderer;var j=g.getWidth(i);var h=g.getHeight(i);var a=Math.abs(Math.sin(g.angle)*h)+Math.abs(Math.cos(g.angle)*j);return a}};b.jqplot.CanvasAxisLabelRenderer.prototype.getHeight=function(i){if(this._elem){return this._elem.outerHeight(true)}else{var g=this._textRenderer;var j=g.getWidth(i);var h=g.getHeight(i);var a=Math.abs(Math.cos(g.angle)*h)+Math.abs(Math.sin(g.angle)*j);return a}};b.jqplot.CanvasAxisLabelRenderer.prototype.getAngleRad=function(){var a=this.angle*Math.PI/180;return a};b.jqplot.CanvasAxisLabelRenderer.prototype.draw=function(h){var f=document.createElement("canvas");this._textRenderer.setText(this.label,h);var a=this.getWidth(h);var g=this.getHeight(h);f.width=a;f.height=g;f.style.width=a;f.style.height=g;f.style.position="absolute";this._domelem=f;this._elem=b(f);this._elem.addClass("jqplot-"+this.axis+"-label");return this._elem};b.jqplot.CanvasAxisLabelRenderer.prototype.pack=function(){if(b.browser.msie){window.G_vmlCanvasManager.init_(document);this._domelem=window.G_vmlCanvasManager.initElement(this._domelem)}var a=this._elem.get(0).getContext("2d");this._textRenderer.draw(a,this.label)}})(jQuery);